<meta charset="UTF-8">

<canvas width="600" height="400"></canvas>

<script>
  var tela = document.querySelector('canvas');
  var pincel = tela.getContext('2d');
  var serie2015 = [50, 25, 20, 5];
 	var serie2016 = [65, 20, 13, 2];
 	var cores = ['blue', 'green', 'yellow', 'red'];
  
  pincel.fillStyle = 'lightgray';
  pincel.fillRect(0, 0, 600, 400);

  function desenhaBarra(x, y, ano, ano2) {
		pincel.font = '12px Times New Roman';
		pincel.fillStyle = 'black';
		pincel.fillText(ano2, x, (y - 12));
			for(var nuss = 0; nuss < ano.length; nuss++){
				var altura = 0;
				for(var nusse = nuss; nusse < ano.length; nusse++){
					altura = altura + ano[nusse];
				}
				pincel.fillStyle = cores[nuss];
				document.write(altura + "<br>");
				pincel.fillRect(x, (y + (100 - altura)), 50, altura);
				document.write(altura + "<br>");
				pincel.strokeStyle = 'white';
				pincel.strokeRect(x, (y + (100 - altura)), 50, altura);
			}
  }
  
  desenhaBarra(50, 50, serie2015, '2015');
	desenhaBarra(150, 50, serie2016, '2016');
</script>
